var express = require('express');
var router = express.Router();

var EXAMPLE_PUBLIC_KEY = `-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: Keybase OpenPGP v2.0.56
Comment: https://keybase.io/crypto

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
AAZ0vYd0q90avC5TvwZvrx09J3UwP6hxfTHCQQ==
=4Q+x
-----END PGP PUBLIC KEY BLOCK-----`;

/* GET home  */

router.get('/', function(req, res) {
  res.render('submit', {
    title: 'Submit your message',
    publicKey: EXAMPLE_PUBLIC_KEY
  });
});

router.post('/', function(req, res) {
  res.render('thanks', { title: 'Thanks', message: req.body.message });
});

module.exports = router;
